<div align='center'>
  <img src="https://capsule-render.vercel.app/api?type=waving&fontColor=48648a&height=150&section=header&text=PEN%20CRAFT&fontSize=40&desc=Smart%20Factory&descAlignY=70&descAlign=50"/>
  <h3>ğŸ–ë³´ë“œë§ˆì¹´ ìƒì‚° ê³µì¥ğŸ–</h3>
  <h4>â˜‘ ì œí’ˆë³„ í’ˆì§ˆ ê´€ë¦¬</h4>
  <h4>â˜‘ ë¼ì¸ ë‚´ ì—ëŸ¬ ì •ë³´ í†µí•© ëª¨ë‹ˆí„°ë§</h4>
  <h4>â˜‘ ë¶„ì„ ì‹œìŠ¤í…œ êµ¬ì¶•</h4>
</div>

## ğŸ“0. ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ì†Œê°œ](#1)
2. [ê°œë°œ ì¼ì •](#2)
3. [ê°œë°œ í™˜ê²½ / Dependencies / ê¸°ìˆ  ìŠ¤íƒ](#3)
4. [í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡°](#4)
5. [ì£¼ìš” ê¸°ëŠ¥ ì†Œê°œ](#5)
6. [í•µì‹¬ ì½”ë“œ](#6)
7. [íŠ¸ëŸ¬ë¸” ìŠˆíŒ…](#7)
8. [ë¦¬íŒ©í† ë§ í•„ìš”](#8)
9. [ë¦¬íŒ©í† ë§ ì™„ë£Œ](#9)
10. [ëŠë‚€ ì  ë° ì•„ì‰¬ìš´ ì ](#10)
<br><br><br><br>
<span id="1"></span>
## ğŸ­1. í”„ë¡œì íŠ¸ ì†Œê°œ
í•´ë‹¹ í”„ë¡œì íŠ¸ëŠ” 5ëª…ì˜ ì¸ì›ìœ¼ë¡œ ì œí’ˆë³„ í’ˆì§ˆ ê´€ë¦¬ì™€ ë¼ì¸ ë‚´ ì—ëŸ¬ ì •ë³´ í†µí•© ëª¨ë‹ˆí„°ë§ ë° ë¶„ì„ ì‹œìŠ¤í…œ êµ¬ì¶•ì´ë¼ëŠ” ìŠ¤ë§ˆíŠ¸ íŒ©í† ë¦¬ì˜ ì£¼ì œë¥¼ ì„ ì •í•˜ì˜€ì„ ë•Œ ì‹¤ì œ ê³µì¥ì—ì„œ ì¼ì„ í•´ë³¸ ì  ê²½í—˜ì´ ì—†ëŠ” ì €í¬ë¡œì„œëŠ” ìƒê°í–ˆì„ ë•Œ ì§ê´€ì ì´ê³  ë‹¨ìˆœí•˜ê²Œ ìƒê°í•  ìˆ˜ ìˆëŠ” ë³´ë“œë§ˆì¹´ë¥¼ ìƒì‚°í•˜ëŠ” ê³µì¥ì„ ì„ ì •í•˜ì˜€ìŠµë‹ˆë‹¤.
ì €í¬ì˜ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì œí’ˆì„ ìƒì‚°í•˜ëŠ” 4ê°€ì§€ì˜ ê³µì •ì´ ìˆê³ , ìƒì‚° ì§€ì‹œê°€ ë‚´ë ¤ì¡Œì„ ë•Œ 1ê³µì •ë¶€í„° 4ê³µì •ê¹Œì§€ ì§„í–‰ì´ ë˜ì—ˆì„ ë•Œ ê° ê³µì •ë§ˆë‹¤ ì¼ì • ì‹œê°„ì´ ì§€ë‚œ ë’¤ ê·¸ë˜í”„ë¥¼ í†µí•´ ì–‘í’ˆê³¼ ë¶ˆëŸ‰í’ˆì˜ ê°œìˆ˜ê°€ ë³´ì¼ ìˆ˜ ìˆë„ë¡ ëª¨ë‹ˆí„°ë§ì„ í•  ìˆ˜ ìˆê²Œ í•˜ê³  ìƒì‚°ëœ ì œí’ˆë“¤ì€ í’ˆì§ˆ ê´€ë¦¬ í˜ì´ì§€ì—ì„œ ì œí’ˆë³„ í’ˆì§ˆ ê´€ë¦¬ë¥¼ í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ìƒì‚°ë˜ëŠ” í˜„í™©ì„ í™•ì¸í•˜ê³  ìƒì‚°ëœ ì œí’ˆì˜ í’ˆì§ˆì„ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” PEN CRAFT í”„ë¡œì íŠ¸ì˜ ì™„ì„± ê³¼ì •ì„ ì†Œê°œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
<br><br><br><br>
<span id="2"></span>
## ğŸ“†2. ê°œë°œ ì¼ì •
#### [2024.02.19 ~ 2024.03.15]
2024.02.19 ~ 2024.02.26 : ê¸°íš
2024.02.25 ~ 2024.03.10 : UI ë° ê¸°ëŠ¥ êµ¬í˜„
2024.03.11 ~ 2024.03.15 : í…ŒìŠ¤íŠ¸ ë° ë¦¬íŒ©í† ë§
<br><br><br><br>

<span id="3"></span>
## âš™3. ê°œë°œ í™˜ê²½ / Dependencies / ê¸°ìˆ  ìŠ¤íƒ
### ğŸ› ê°œë°œí™˜ê²½
  - **OS : Windows 10**
  - **í†µí•©ê°œë°œí™˜ê²½(IDE) : IntelliJ**
  - **JDK Version : JDK 17**
  - **Database : MySQL**
  - **Build Tool : IntelliJ IDEA**

### ğŸ–¥Dependencies
  - **Spring Web**
  - **Spring Data JPA**
  - **Spring Boot DevTools**
  - **WebSocket**
  - **Lombok**
  - **Mysql Driver**
  - **Thymeleaf**

### âœê¸°ìˆ  ìŠ¤íƒ
  - **Front End**<br>
![HTML](https://img.shields.io/badge/HTML-239120?style=for-the-badge&logo=html5&logoColor=white)
![CSS](https://img.shields.io/badge/CSS-239120?&style=for-the-badge&logo=css3&logoColor=white)
![Bootstrap](https://img.shields.io/badge/Bootstrap-563D7C?style=for-the-badge&logo=bootstrap&logoColor=white)
![Javascript](https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&logo=JavaScript&logoColor=white)
![jQuery](https://img.shields.io/badge/jQuery-0769AD?style=for-the-badge&logo=jquery&logoColor=white)
![Thymeleaf](https://img.shields.io/badge/Thymeleaf-239120?style=for-the-badge)
  - **Back End**<br>
![Spring](https://img.shields.io/badge/Spring-6DB33F?style=for-the-badge&logo=spring&logoColor=white)
![WebSocket](https://img.shields.io/badge/WebSocket-red?style=for-the-badge)
![JPA](https://img.shields.io/badge/JPA-DB7093?style=for-the-badge)
  - **Database**<br>
![MySQL](https://img.shields.io/badge/MySQL-00000F?style=for-the-badge&logo=mysql&logoColor=white)
![Woekbench](https://img.shields.io/badge/MySQL%20Workbench-00000F?style=for-the-badge&logo=mysql&logoColor=white)
  - **Communication**<br>
![Notion](https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=notion&logoColor=white)
![Discord](https://img.shields.io/badge/Discord-7289DA?style=for-the-badge&logo=discord&logoColor=white)
<br><br><br><br>

<span id="4"></span>
## ğŸ—‚4. í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡°
```
ğŸ“src
â”£ ğŸ“‚main
â”ƒ â”£ ğŸ“‚java
â”ƒ â”ƒ â”£ ğŸ“‚com.example.pencraft
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚config
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„WebConfig.java
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„WebSocketConfig.java
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚constant
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„SessionConst.java
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚controller
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„EmployeeController.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„HomeController.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„LoginController.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„ProcessController.java
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„ProductController.java
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚domain
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„BaseTimeEntity.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„Employees.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„Error.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„Lot.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„OccurrenceError.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„Process.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„Product.java
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„Standard.java
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚filter
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„LogFilter.java
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„LoginCheckFilter.java
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚form
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„CountForm.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„EmployeesForm.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„LoginForm.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„LotForm.java
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„ProductForm.java
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚repository
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„EmployeesRepository.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„LotRepository.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„ProcessRepository.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„ProductRepository.java
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„StandardRepository.java
â”ƒ â”ƒ â”ƒ â”— ğŸ“‚service
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„EmployeesService.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„LoginService.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„LotService.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„ProcessService.java
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„ProductService.java
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„WebSocketSenderService.java
â”ƒ â”ƒ â”ƒ â”— ğŸ“„PencraftApplication.java
â”ƒ â”— ğŸ“‚resource
â”ƒ â”ƒ â”£ ğŸ“‚static
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚css
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„bootstrap.css
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„jumbotron-narrow.css
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„style.css
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚img
â”ƒ â”ƒ â”ƒ â”— ğŸ“‚js
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„bootstrap.bundle.min.js
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„sock.js
â”ƒ â”ƒ â”£ ğŸ“‚templates
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚employees
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„createEmployeesForm.html
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚fragment
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„bodyheader.html
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„header.html
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚login
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„loginForm.html
â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚products
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„monitoring.html
â”ƒ â”ƒ â”ƒ â”ƒ â”£ ğŸ“„showProducts.html
â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“„start_process.html
â”ƒ â”ƒ â”ƒ â”£ ğŸ“„home.html
â”ƒ â”ƒ â”ƒ â”£ ğŸ“„loginAdminHome.html
â”— â” â” â”· ğŸ“„loginStaffHome.html
```
<br><br><br><br>

<span id="5"></span>
## ğŸ”5. ì£¼ìš” ê¸°ëŠ¥ ì†Œê°œ
<br><br><br><br>

<span id="6"></span>
## âŒ¨6. í•µì‹¬ ì½”ë“œ
<details>
  <summary><b>1ê³µì • ~ 4ê³µì • ìƒì‚° ë¡œì§</b></summary>
  ë°˜ë³µë¬¸ì„ ì´ìš©í•˜ì—¬ ì œí’ˆì„ ìƒì‚°í•˜ë©´ì„œ Nì´ˆ ì£¼ê¸°ë¡œ ì›¹ ì†Œì¼“ì„ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°ì´í„°ë¥¼ ë³´ë‚´ì•¼í•˜ê¸° ë•Œë¬¸ì— 2ê°œì˜ Threadê°€ í•„ìš”<br>
  ì“°ë ˆë“œì˜ ê´€ë¦¬ê°€ í¸ë¦¬í•œ ExecutorServiceë¥¼ ì´ìš©í•˜ì—¬ 2ê°œì˜ ì“°ë ˆë“œ í’€ì„ ë§Œë“¤ì–´ 'ìƒì‚°'ê³¼ 'ë°ì´í„° ì „ì†¡'ì„ ë™ì‹œì— ì§„í–‰
  <br><br>
  1ê³µì • : í•˜ë‚˜ì˜ Lotì—ì„œ Nê°œì˜ ì œí’ˆì„ ìƒì„±í•˜ê¸° ë•Œë¬¸ì— Lotì˜ ìƒì„±ê³¼ Nê°œì˜ ì œí’ˆì„ ë¦¬ìŠ¤íŠ¸ì— ë‹´ì•„ ëœë¤í•œ ì‰í¬ë¥¼ ì£¼ì…í•˜ê³  ì œí’ˆ ê·œê²©ê³¼ ë¹„êµí•˜ì—¬ ì–‘í’ˆê³¼ ë¶ˆëŸ‰í’ˆì„ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥<br>
  1ê³µì •ì´ ì¢…ë£Œëœ í›„ 2ê³µì • ë©”ì„œë“œ ì‹¤í–‰
  <br><br>
  2ê³µì • : 1ê³µì •ì—ì„œ ìƒì‚°ëœ ì œí’ˆ ì¤‘ ì–‘í’ˆì¸ ì œí’ˆë§Œ ë‹™(ë³´ë“œë§ˆì¹´ì˜ ì´‰)ì„ ì‚½ì…ì„ í•˜ëŠ”ë° ëœë¤í•˜ê²Œ ë‹™ ê¹Šì´ë¥¼ ì‚½ì…í•˜ì—¬ ì œí’ˆ ê·œê²©ê³¼ ë¹„êµí•˜ì—¬ ë¶ˆëŸ‰í’ˆì¼ ê²½ìš° ì–‘í’ˆ&ë¶ˆëŸ‰í’ˆ ì—¬ë¶€ì˜ ê°’ì„ ë¶ˆëŸ‰ìœ¼ë¡œ ë³€ê²½<br>
  2ê³µì •ì´ ì¢…ë£Œëœ í›„ 3ê³µì • ë©”ì„œë“œ ì‹¤í–‰
  <br><br>
  3ê³µì • : 2ê³µì •ì—ì„œ ìƒì‚°ëœ ì œí’ˆ ì¤‘ ì–‘í’ˆì¸ ì œí’ˆë§Œ ëª¸ì²´ë¥¼ ê²°í•©í•˜ëŠ”ë° ëœë¤í•˜ê²Œ ê²°í•© ì—¬ë¶€ë¥¼ Y, Nìœ¼ë¡œ í•˜ì—¬ ë¶ˆëŸ‰ì¼ ê²½ìš° ì–‘í’ˆ&ë¶ˆëŸ‰í’ˆ ì—¬ë¶€ì˜ ê°’ì„ ë¶ˆëŸ‰ìœ¼ë¡œ ë³€ê²½<br>
  3ê³µì •ì´ ì¢…ë£Œëœ í›„ 4ê³µì • ë©”ì„œë“œ ì‹¤í–‰
  <br><br>
  4ê³µì • : 3ê³µì •ì—ì„œ ìƒë‹¨ëœ ì œí’ˆ ì¤‘ ì–‘í’ˆì¸ ì œí’ˆë§Œ ëšœê»‘ì„ ê²°í•©í•˜ëŠ”ë° 3ê³µì •ê³¼ ë™ì¼í•˜ê²Œ ëœë¤ìœ¼ë¡œí•˜ì—¬ ë¶ˆëŸ‰í’ˆì¼ ê²½ìš° ì–‘í’ˆ&ë¶ˆëŸ‰í’ˆ ì—¬ë¶€ì˜ ê°’ì„ ë¶ˆëŸ‰ìœ¼ë¡œ ë³€ê²½<br>
  4ê³µì •ì´ ì¢…ë£Œëœ í›„ ìƒì‚°ëœ ì œí’ˆê³¼ Lotì„ ë°ì´í„° ë² ì´ìŠ¤ì— ì €ì¥í•˜ëŠ” ë©”ì„œë“œ ì‹¤í–‰
  
```java
      private final LotService lotService;
      private final ProductRepository productRepository;
      private final WebSocketSenderService webSocketSenderService;
      private Standard standard; // DBì—ì„œ ê°€ì ¸ì˜¨ ê·œê²©ì„ ì €ì¥
      private Lot lot; // Lot Entity
      private List<Product> productList; // ìƒì‚°ëœ ì œí’ˆì„ ì €ì¥í•  ë¦¬ìŠ¤íŠ¸
  
      private final ExecutorService executorService = Executors.newFixedThreadPool(2); // ì“°ë ˆë“œ ê°œìˆ˜ 2ê°œ
      private Future<?> sendFuture; // ì§€ì†ì ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ë°ì´í„°ë¥¼ ë³´ë‚¼ Future
      private Future<?> productionFuture; // ìƒì‚°ì„ ë‹´ë‹¹í•  Future
  
      // ì‚¬ìš©ìì—ê²Œ ì–‘í’ˆ, ë¶ˆëŸ‰í’ˆì„ ë³´ë‚´ì£¼ê¸° ìœ„í•œ ë³€ìˆ˜
      // ê° ê³µì •ë§ˆë‹¤ ìµœì´ˆ ì‹œì‘ì— ë‘ ë³€ìˆ˜ë¥¼ 0ìœ¼ë¡œ ì´ˆê¸°í™”í•´ì„œ ì‚¬ìš©
      private int good_count;
      private int bad_count;
  
      private final int sendMessageDelay = 100; // ëª‡ì´ˆ ì£¼ê¸°ë¡œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë©”ì„¸ì§€ë¥¼ ë³´ë‚¼ì§€ ì‹œê°„ ì„¤ì •
      private final int productionDelay = 10; // ì œí’ˆ 1ê°œ ìƒì‚°í•˜ëŠ”ë° ëª‡ ì´ˆë§ˆë‹¤ ìƒì‚°í• ì§€ ì‹œê°„ ì„¤ì •
  
      // 1ê³µì • ì‹œì‘
      public void processFirst(CountForm countForm) throws Exception {
          log.info("ìƒì‚°ëŸ‰ ={}", countForm.getCount());
          standard = standardRepository.findById(1L).orElse(null);
          log.info("1ê³µì • ê·œê²© = {}", standard);
          lot = new Lot();
          lot.setLot_id(1L);
          if(!lotRepository.findAll().isEmpty()) {
              lot.setLot_id(lotRepository.selectMaxLotId()+1);
          }
  
          lot.setOutput(countForm.getCount());
          lot.setStart_time(LocalDateTime.now()); // ìƒì‚° ì‹œì‘ ì‹œê°„ì„ í˜„ì¬ ì‹œê°„ìœ¼ë¡œ ì €ì¥
          lot.setFirst_start(LocalDateTime.now()); // 1ê³µì • ì‹œì‘ ì‹œê°„ì„ í˜„ì¬ ì‹œê°„ìœ¼ë¡œ ì €ì¥
          lot.setStatus((char)49); // ìƒíƒœë¥¼ ì§„í–‰ ì¤‘(1)ë¡œ ë³€ê²½
          log.info("ì‹ ê·œ ìƒì„±ë  Lot = {}", lot);
  
          productList = new ArrayList<>();
  
          productionFuture = executorService.submit(firstTask(countForm.getCount()));
          sendFuture = executorService.submit(sendMessage("/process/first"));
      }
  
      // 2 ê³µì • ì‹œì‘
      private void processSecond() throws Exception {
          // lotì— 2ê³µì • ì‹œì‘ ì‹œê°„ ì¶”ê°€
          lot.setSecond_start(LocalDateTime.now());
          productionFuture = executorService.submit(secondTask());
          sendFuture = executorService.submit(sendMessage("/process/second"));
      }
  
      private void processThird() throws Exception {
          // lotì— 3ê³µì • ì‹œì‘ ì‹œê°„ ì¶”ê°€
          lot.setThird_start(LocalDateTime.now());
          productionFuture = executorService.submit(thirdTask());
          sendFuture = executorService.submit(sendMessage("/process/third"));
      }
  
      private void processFourth() throws Exception {
          // lotì— 4ê³µì • ì‹œì‘ ì‹œê°„ ì¶”ê°€
          lot.setFourth_start(LocalDateTime.now());
          productionFuture = executorService.submit(fourthTask());
          sendFuture = executorService.submit(sendMessage("/process/fourth"));
      }
  
      private void saveAll() throws Exception {
          // ì™„ì„±ëœ Lot Entityë¥¼ lotRepositoryë¥¼ í†µí•´ ì €ì¥
          log.info("4ê³µì •ê¹Œì§€ ëë‚œ ë’¤ ìµœì¢… ì œí’ˆ ë¦¬ìŠ¤íŠ¸ = {}", productList);
          log.info("4ê³µì •ê¹Œì§€ ëë‚œ ë’¤ ìµœì¢… LOT ì •ë³´ = {}", lot);
  
          Lot checkLot = lotRepository.save(lot);
          log.info("DBì— ì €ì¥í•œ ë’¤ ë°˜í™˜ Lot = {}", checkLot);
  
          //ìƒì‚°ëœ ì œí’ˆë“¤ì—ê²Œ ë¡œíŠ¸ë²ˆí˜¸&ê·œê²© ë¶€ì—¬
  
          for (Product product : productList) {
              product.setLot(lot);
              product.setStandard(standard);
          }
          // ìƒì‚°ëœ ëª¨ë“  ì œí’ˆë“¤ì„ productRespositoryë¥¼ í†µí•´ ì €ì¥
          List<Product> chechkProductList = productRepository.saveAll(productList);
  
          log.info("DBì— ì €ì¥í•œ ë’¤ ë°˜í™˜ ì œí’ˆ ë¦¬ìŠ¤íŠ¸ = {}", chechkProductList);
      }
  
      // ìƒì‚° ì¤‘ë‹¨ ë©”ì„œë“œ
      public void stopProduction() {
          // ìƒì‚°ê³¼ ë©”ì„¸ì§€ë¥¼ ì¤‘ë‹¨
          productionFuture.cancel(true);
          stopSend();
      }
  
      // ë©”ì„¸ì§€ ì „ì†¡ ì¤‘ë‹¨ ë©”ì„œë“œ
      private void stopSend() {
          sendFuture.cancel(true);
      }
  
      // ëª©ì ì§€(destination)ìœ¼ë¡œ ë©”ì„¸ì§€ë¥¼ ë¬´í•œ ì „ì†¡
      private Runnable sendMessage(String destination) {
          return () -> {
              while(true) { // ìƒì‚°ì´ ì–¸ì œ ëë‚ ì§€ ëª¨ë¥´ê¸°ì— ë¬´í•œ ë£¨í”„
                  // Mapì— ë°ì´í„°(ì–‘í’ˆê³¼ ë¶ˆëŸ‰í’ˆì˜ ìˆ˜ëŸ‰)ë¥¼ ë‹´ì•„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡
                  Map<String, Integer> data = new HashMap<>();
                  try {
                      if (Thread.currentThread().isInterrupted()) {
  //                        webSocketSenderService.sendMessageToClient("ìƒì‚°ì´ ì¤‘ë‹¨ë˜ì—ˆìŠµë‹ˆë‹¤.");
                          break;
                      }
                      Thread.sleep(sendMessageDelay); // Nì´ˆ ì£¼ê¸°ë¡œ
                      // ê° ê³µì •ë§ˆë‹¤ì˜ ì–‘í’ˆ, ë¶ˆëŸ‰í’ˆì„ Mapì— ë„£ì–´ì„œ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì „ì†¡
                      data.put("goodcount", good_count);
                      data.put("badcount", bad_count);
                      webSocketSenderService.sendMessageToClient(destination,data);
                  } catch (InterruptedException e) {
                      log.error("Thread interrupted = ", e);
                      Thread.currentThread().interrupt(); // Preserve interrupted status
                  }
              }
          };
      }
  
      // 1ê³µì • ìƒì‚° ë¡œì§
      private Runnable firstTask(int count){
          return () -> {
              good_count = 0;
              bad_count = 0;
              for (int i = 0; i < count; i++) {
                  try {
                      Thread.sleep(productionDelay); // Nì´ˆë§ˆë‹¤ ìƒì„±
                  } catch (InterruptedException e) {
                      throw new RuntimeException(e);
                  }
                  Random random = new Random();
                  // ëœë¤ì˜ ì‹œì‘ê³¼ ëì„ ì„¤ì •í•  ë³€ìˆ˜
                  Double start = 0.0;
                  Double end = 0.0;
                  Double volume = 0.0;
                  int ran = random.nextInt(1, 101);
                  if(ran > 5) { // ì–‘í’ˆ
                      // ì–‘í’ˆì¼ ê²½ìš°ì—ëŠ” 98~102ml
                      start = 98.0; end = 102.0;
                  } else { // ë¶ˆëŸ‰
                      // ë¶ˆëŸ‰í’ˆì€ 90~98ml, 103 ~ 111mlë¡œ
                      // booleanì˜ ê°’ì´ trueì¼ ê²½ìš° 90~98ml
                      // booleanì˜ ê°’ì´ falseì¼ ê²½ìš° 103~111ml
                      boolean bool = random.nextBoolean();
                      if(bool){
                          start = 90.0; end = 98.0;
                      } else{
                          start = 103.0; end = 111.0;
                      }
                  }
                  // ì‹œì‘ ~ ë ê°’ìœ¼ë¡œ ëœë¤í•œ double ê°’ ì¶”ì¶œ
                  // ì†Œìˆ˜ì  ë‘˜ì§¸ìë¦¬ ì´í•˜ëŠ” ë°˜ì˜¬ë¦¼í•˜ì—¬ ë²„ë¦¬ëŠ” ì½”ë“œ
                  volume = Math.round(random.nextDouble(start,end) * 100) / 100.0;
  
                  // ì œí’ˆ Entity ìƒì„±
                  Product p = new Product();
                  // ìœ„ì—ì„œ ë§Œë“¤ì–´ì§„ ì‰í¬ëŸ‰ì„ ì €ì¥
                  p.setVolume(volume);
  
                  // ë§Œì•½ ì‰í¬ëŸ‰ì´ ì œí’ˆ ê·œê²©ì— ë§ë‹¤ë©´
                  if(standard.getMin_volume() <= volume && standard.getMax_volume() >= volume){
                      p.setAcceptance((char)49); // ì–‘í’ˆ ë¶ˆëŸ‰í’ˆ ì—¬ë¶€ë¥¼ 1(ì–‘í’ˆ)ë¡œ ì„¤ì •
                      good_count++; // ì–‘í’ˆì˜ ê°œìˆ˜ë¥¼ 1ê°œ ì¦ê°€
                  }
                  else { // ë§Œì•½ ì‰í¬ëŸ‰ì´ ì œí’ˆ ê·œê²©ì— ë§ì§€ ì•Šë‹¤ë©´
                      p.setAcceptance((char)48); // ì–‘í’ˆ ë¶ˆëŸ‰í’ˆ ì—¬ë¶€ë¥¼ 0(ë¶ˆëŸ‰í’ˆ)ìœ¼ë¡œ ì„¤ì •
                      bad_count++; // ë¶ˆëŸ‰í’ˆì˜ ê°œìˆ˜ë¥¼ 1ê°œ ì¦ê°€
                  }
                  productList.add(p); // ì œí’ˆ Entityë¥¼ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€
                  log.info("productList = " + productList);
              }
              /*
                  ì—¬ê¸° ì´í›„ëŠ” forë¬¸(ìƒì‚°)ì´ ì¢…ë£Œëœ ì´í›„ì— ìˆœì°¨ì ìœ¼ë¡œ ì½”ë“œ ì‹¤í–‰
              * */
              lot.setFirst_end(LocalDateTime.now()); // 1ê³µì • ì¢…ë£Œ ì‹œê°„ì— í˜„ì¬ ì‹œê°„ì„ ì¶”ê°€
              try {
                  /*
                      5ì´ˆ ëŒ€ê¸°
                      ìƒì‚° ë¡œì§ì´ ì¢…ë£Œë˜ìë§ˆì stopSend(); ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì—¬ sendFutureë¥¼ ì¢…ë£Œì‹œí‚¬ ê²½ìš°
                      ì‹œê°„ì˜ ì•„ë‹¤ë¦¬ê°€ ë§ì§€ ì•Šìœ¼ë©´ ìµœì¢… ì–‘í’ˆ(good_count)ì™€ ë¶ˆëŸ‰í’ˆ(bad_count)ì˜ ê°œìˆ˜ê°€ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ê°€ì§€ ì•ŠìŒ
                      Ex)
                      ìƒì‚° ì§€ì‹œ 30ê°œ -> í´ë¼ì´ì–¸íŠ¸ê°€ ë°›ì€ ë°ì´í„° { ì–‘í’ˆ : 22, ë¶ˆëŸ‰í’ˆ : 2 }
                      -> stopSend()ê°€ ì‹¤í–‰ë˜ì–´ í´ë¼ì´ì–¸íŠ¸ëŠ” ë” ì´ìƒ ë°ì´í„°ë¥¼ ë°›ì§€ ëª»í•¨
                      ê·¸ë¦¬í•˜ì—¬, ë©”ì„¸ì§€ë¥¼ Nì´ˆì£¼ê¸°ë¡œ ë³´ë‚´ì£¼ê¸° ë•Œë¬¸ì— sendMessageDelayì´ˆë¥¼ ëŒ€ê¸°í•œ í›„
                      ë©”ì„¸ì§€ë¥¼ ë” ì´ìƒ ë³´ë‚´ì§€ ì•Šë„ë¡ stopSend()ë©”ì„œë“œë¥¼ ì‹¤í–‰
                  */
                  Thread.sleep(sendMessageDelay);
              } catch (InterruptedException e) {
                  throw new RuntimeException(e);
              }
              stopSend();
              try {
                  processSecond();
              } catch (Exception e) {
                  throw new RuntimeException(e);
              }
          };
      }
  
      private Runnable secondTask(){
          return () -> {
              good_count = 0;
              bad_count = 0;
  
              for (int i = 0; i < productList.size(); i++) {
                  if(productList.get(i).getAcceptance()==48) // ë§Œì•½ ë¶ˆëŸ‰í’ˆì´ë¼ë©´ íŒ¨ìŠ¤
                      continue;
                  try {
                      Thread.sleep(productionDelay);
                  } catch (InterruptedException e) {
                      throw new RuntimeException(e);
                  }
                  Random random = new Random();
                  // ëœë¤ì˜ ì‹œì‘ê³¼ ëì„ ì„¤ì •í•  ë³€ìˆ˜
                  Double start = 0.0;
                  Double end = 0.0;
                  Double nib = 0.0;
                  int ran = random.nextInt(1, 101);
                  if(ran > 5) { // ì–‘í’ˆ
                      // ì–‘í’ˆì¼ ê²½ìš°ì—ëŠ” 0.87~1.00
                      start = 0.87; end = 1.00;
                  } else { // ë¶ˆëŸ‰
                      // ë¶ˆëŸ‰í’ˆì€ 0.8 ~ 0.86, 1.01 ~ 1.05
                      // booleanì˜ ê°’ì´ trueì¼ ê²½ìš° 0.8 ~ 0.86
                      // booleanì˜ ê°’ì´ falseì¼ ê²½ìš° 1.01 ~ 1.05
                      boolean bool = random.nextBoolean();
                      if(bool){
                          start = 0.8; end = 0.865;
                      } else{
                          start = 1.005; end = 1.05;
                      }
                  }
                  // ì‹œì‘ ~ ë ê°’ìœ¼ë¡œ ëœë¤í•œ double ê°’ ì¶”ì¶œ
                  // ì†Œìˆ˜ì  ë‘˜ì§¸ìë¦¬ ì´í•˜ëŠ” ë°˜ì˜¬ë¦¼í•˜ì—¬ ë²„ë¦¬ëŠ” ì½”ë“œ
                  nib = Math.round(random.nextDouble(start,end) * 100) / 100.0;
  
                  // productionListì˜ ië²ˆì§¸ ë°©ì— ìˆëŠ” Productë¥¼ êº¼ë‚´ì–´ pì— ì €ì¥
                  Product p = productList.get(i);
                  // ìœ„ì—ì„œ ë§Œë“¤ì–´ì§„ ë‹™ì˜ ê¹Šì´ë¥¼ ì €ì¥
                  p.setNib(nib);
  
                  // ë§Œì•½ ë‹™ì˜ ê¹Šì´ê°€ ì œí’ˆ ê·œê²©ì— ë§ë‹¤ë©´
                  if(standard.getMin_nib() <= nib && standard.getMax_nib() >= nib){
                      good_count++; // ì–‘í’ˆì˜ ê°œìˆ˜ë¥¼ 1ê°œ ì¦ê°€
                  }
                  else { // ë§Œì•½ ë‹™ì˜ ê¹Šì´ê°€ ì œí’ˆ ê·œê²©ì— ë§ì§€ ì•Šë‹¤ë©´
                      p.setAcceptance((char)48); // ì–‘í’ˆ ë¶ˆëŸ‰í’ˆ ì—¬ë¶€ë¥¼ false(ë¶ˆëŸ‰í’ˆ)ìœ¼ë¡œ ì„¤ì •
                      bad_count++; // ë¶ˆëŸ‰í’ˆì˜ ê°œìˆ˜ë¥¼ 1ê°œ ì¦ê°€
                  }
                  log.info("productList = " + productList);
              }
              /*
                  ì—¬ê¸° ì´í›„ëŠ” forë¬¸(ìƒì‚°)ì´ ì¢…ë£Œëœ ì´í›„ì— ìˆœì°¨ì ìœ¼ë¡œ ì½”ë“œ ì‹¤í–‰
              * */
              lot.setSecond_end(LocalDateTime.now()); // 2ê³µì • ì¢…ë£Œ ì‹œê°„ì— í˜„ì¬ ì‹œê°„ì„ ì¶”ê°€
              try {
                  Thread.sleep(sendMessageDelay);
              } catch (InterruptedException e) {
                  throw new RuntimeException(e);
              }
              stopSend();
              try {
                  processThird();
              } catch (Exception e) {
                  throw new RuntimeException(e);
              }
          };
      }
  
      private Runnable thirdTask(){
          return () -> {
              good_count = 0;
              bad_count = 0;
  
              for (int i = 0; i < productList.size(); i++) {
                  if(productList.get(i).getAcceptance()==48)
                      continue;
                  try {
                      Thread.sleep(productionDelay);
                  } catch (InterruptedException e) {
                      throw new RuntimeException(e);
                  }
                  Random random = new Random();
                  char body = (char)48;
                  int ran = random.nextInt(1, 101);
                  if(ran > 5) { // bodyê°€ 1ì¼ ê²½ìš° ëª¸ì²´ ì¡°ë¦½ ì™„ë£Œ
                      body = (char)49;
                  }
  
                  // productionListì˜ ië²ˆì§¸ ë°©ì— ìˆëŠ” Productë¥¼ êº¼ë‚´ì–´ pì— ì €ì¥
                  Product p = productList.get(i);
                  // ë°”ë””ë¥¼ ì €ì¥ ( 0 or 1 )
                  p.setAssembly_body(body);
  
                  if(body == (char)49){ // ë§Œì•½ assembly_bodyê°€ ê²°í•©ì´ ëë‹¤ë©´
                      good_count++; // ì–‘í’ˆì˜ ê°œìˆ˜ë¥¼ 1ê°œ ì¦ê°€
                  }
                  else { // ê²°í•©ì´ ë˜ì§€ ì•Šì•˜ë‹¤ë©´
                      p.setAcceptance((char)48); // ì–‘í’ˆ ë¶ˆëŸ‰í’ˆ ì—¬ë¶€ë¥¼ 0(ë¶ˆëŸ‰í’ˆ)ìœ¼ë¡œ ì„¤ì •
                      bad_count++; // ë¶ˆëŸ‰í’ˆì˜ ê°œìˆ˜ë¥¼ 1ê°œ ì¦ê°€
                  }
                  log.info("productList = " + productList);
              }
              /*
                  ì—¬ê¸° ì´í›„ëŠ” forë¬¸(ìƒì‚°)ì´ ì¢…ë£Œëœ ì´í›„ì— ìˆœì°¨ì ìœ¼ë¡œ ì½”ë“œ ì‹¤í–‰
              * */
              lot.setThird_end(LocalDateTime.now()); // 3ê³µì • ì¢…ë£Œ ì‹œê°„ì— í˜„ì¬ ì‹œê°„ì„ ì¶”ê°€
              try {
                  Thread.sleep(sendMessageDelay);
              } catch (InterruptedException e) {
                  throw new RuntimeException(e);
              }
              stopSend();
              try {
                  processFourth();
              } catch (Exception e) {
                  throw new RuntimeException(e);
              }
          };
      }
  
      private Runnable fourthTask(){
          return () -> {
              good_count = 0;
              bad_count = 0;
  
              for (int i = 0; i < productList.size(); i++) {
                  if(productList.get(i).getAcceptance()==48)
                      continue;
                  try {
                      Thread.sleep(productionDelay);
                  } catch (InterruptedException e) {
                      throw new RuntimeException(e);
                  }
                  Random random = new Random();
                  // ëœë¤ì˜ ì‹œì‘ê³¼ ëì„ ì„¤ì •í•  ë³€ìˆ˜
                  char cap = (char)48;
                  int ran = random.nextInt(1, 101);
                  if(ran > 5) { // capì´ 1ì¼ ê²½ìš° ëšœê»‘ ì¡°ë¦½ ì™„ë£Œ
                      cap = (char)49;
                  }
  
                  // productionListì˜ ië²ˆì§¸ ë°©ì— ìˆëŠ” Productë¥¼ êº¼ë‚´ì–´ pì— ì €ì¥
                  Product p = productList.get(i);
                  // ìº¡ì„ ì €ì¥( 0 or 1 )
                  p.setAssembly_cap(cap);
  
                  if(cap == (char)49){ // // ë§Œì•½ ìº¡ì´ ê²°í•©ì´ ëë‹¤ë©´
                      good_count++; // ì–‘í’ˆì˜ ê°œìˆ˜ë¥¼ 1ê°œ ì¦ê°€
                  }
                  else { // ìº¡ì´ ê²°í•©ë˜ì§€ ì•Šì•˜ë‹¤ë©´
                      p.setAcceptance((char)48); // ì–‘í’ˆ ë¶ˆëŸ‰í’ˆ ì—¬ë¶€ë¥¼ 0(ë¶ˆëŸ‰í’ˆ)ìœ¼ë¡œ ì„¤ì •
                      bad_count++; // ë¶ˆëŸ‰í’ˆì˜ ê°œìˆ˜ë¥¼ 1ê°œ ì¦ê°€
                  }
                  log.info("productList = " + productList);
              }
              /*
                  ì—¬ê¸° ì´í›„ëŠ” forë¬¸(ìƒì‚°)ì´ ì¢…ë£Œëœ ì´í›„ì— ìˆœì°¨ì ìœ¼ë¡œ ì½”ë“œ ì‹¤í–‰
              * */
              lot.setFourth_end(LocalDateTime.now()); // 4ê³µì • ì¢…ë£Œ ì‹œê°„ì— í˜„ì¬ ì‹œê°„ì„ ì¶”ê°€
              lot.setEnd_time(LocalDateTime.now()); // ìƒì‚° ê³µì • ì¢…ë£Œ ì‹œê°„ì— í˜„ì¬ ì‹œê°„ì„ ì¶”ê°€
              try {
                  Thread.sleep(sendMessageDelay);
              } catch (InterruptedException e) {
                  throw new RuntimeException(e);
              }
              stopSend();
              lot.setS_count(good_count);
              lot.setF_count(lot.getOutput() - lot.getS_count());
              lot.setStatus((char)50);
              try {
                  saveAll();
              } catch (Exception e) {
                  throw new RuntimeException(e);
              }
          };
      }
  }
```

</details>

<br><br><br><br>

<span id="7"></span>
## ğŸš€7. íŠ¸ëŸ¬ë¸” ìŠˆíŒ…
<details>
  <summary><b>í˜ì´ì§€ë„¤ì´ì…˜ ëŒ€ìƒ ì§€ì • ë¬¸ì œ</b></summary>
  <b>&gt;í˜„ìƒ</b><br>
  ì—ëŸ¬ ì½”ë“œë¥¼ ê°€ì§„ ì œí’ˆì„ ê°€ì ¸ì˜¤ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ JPARepositoryì—ì„œ Pageë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ëŠ” ê¸°ëŠ¥ì„ ì‚¬ìš©í•¨. ì´ë•Œ ì—ëŸ¬ì½”ë“œë¥¼ ê°€ì§€ê³  ìˆëŠ” ì œí’ˆì„ ì—ëŸ¬ ì œí’ˆì´ë¼ê³  ìƒê°í•´ì„œ ê·¸ ë°ì´í„°ë§Œ ê°€ì ¸ì˜¤ë ¤ê³  í–ˆìœ¼ë‚˜, í˜ì´ì§€ë„¤ì´ì…˜ ë‹¨ê³„ì—ì„œ ì „ì²´ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë§Œë“¤ì–´ì§<br>
  ì „ì²´ ë°ì´í„° ê¸°ì¤€ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ë‹¤ ë³´ë‹ˆ ì—ëŸ¬ ì½”ë“œê°€ ìˆëŠ” ì œí’ˆì€ ê·¸ëŒ€ë¡œ ì˜ í‘œì‹œë˜ì§€ë§Œ, ì—ëŸ¬ ì½”ë“œê°€ ì—†ëŠ” ì œí’ˆì€ nullê°’ì´ ë°˜í™˜ë˜ì–´ì„œ ë¦¬ìŠ¤íŠ¸ì˜ í•œ ë¶€ë¶„ì„ ì°¨ì§€í•˜ëŠ” í˜„ìƒì´ ë°œìƒë¨.<br>
  ë˜í•œ í•œí˜ì´ì§€ì— 10ê°œì”© í˜ì´ì§€ë„¤ì´ì…˜ì„ í–ˆìœ¼ë‚˜, ì–´ë–¤ í˜ì´ì§€ì—ì„œëŠ” 2ê°œ, ì–´ë–¤ í˜ì´ì§€ì—ì„œëŠ” 4ê°œ ë“± ì •ìƒì ìœ¼ë¡œ ì„¤ì •ëœ ì‚¬ì´ì¦ˆë§Œí¼ ë°ì´í„°ê°€ ì¶œë ¥ë˜ì§€ ì•ŠìŒ.<br><br>
  
  <b>&gt;ì›ì¸</b><br>
  í˜ì´ì§€ë„¤ì´ì…˜ ìì²´ê°€ ëª¨ë“  ì œí’ˆ ë°ì´í„° ëŒ€ìƒì´ë‹¤ ë³´ë‹ˆ, í˜ì´ì§€ í¬ê¸°ì™€ í˜ì´ì§€ ë„˜ë²„ê°€ ì „ì²´ ì œí’ˆêµ°ì´ ë˜ì–´ë²„ë ¸ìŒ.<br>
  ê·¸ë ‡ê¸° ë•Œë¬¸ì— í•œ í˜ì´ì§€ë§ˆë‹¤ ì—ëŸ¬ì½”ë“œë¥¼ ê°€ì§„ ì œí’ˆë“¤ì˜ ìˆ˜ê°€ ê°ê¸° ë‹¤ë¥¸ ì´ìœ ê°€ ì¼ë‹¨ ì „ì²´ ì œí’ˆêµ°ì´ ê¸°ì¤€ì¸ í˜ì´ì§•ì´ ë¨¼ì € ë˜ê³ , ê·¸ ë‹¤ìŒ ì—ëŸ¬ì½”ë“œë¥¼ ê°€ì§„ ê²ƒì„ í•„í„°ë§ í•˜ë‹¤ë³´ë‹ˆ,<br> 
  í•œ í˜ì´ì§€ì— 10ê°œì”© ì œí’ˆì´ ìƒê¸´ ë’¤ì— í•„í„°ë§ì´ ë˜ì–´ ê°¯ìˆ˜ê°€ ë‹¤ ë‹¬ëë˜ ê²ƒì´ ì—ˆë‹¤.
  
  ```java
  @Repository
    public interface ErrorRepository extends JpaRepository<Error, Long> {

    @Query(value = "SELECT * FROM error where error_id = :id", nativeQuery = true)
    Error findByProduct_errorCode(@RequestParam("id") Long id);
  }

  ```

  <b>í•´ê²° ë°©ë²•</b>
  &gt; ì• ì´ˆì— ëŒ€ìƒì´ ë˜ëŠ” ì œí’ˆêµ°ì„ ì„ ì •í•  ë•Œ, ë¨¼ì € í•„í„°ë§ì„ ê±¸ì–´ì„œ ì—ëŸ¬ ì½”ë“œê°€ ìˆëŠ” ì œí’ˆë§Œ ê°€ì ¸ì˜¤ë©´ ë˜ëŠ” ë¬¸ì œì˜€ë‹¤.

  ```java
   @Query(value = "SELECT * FROM product WHERE error_code != 0", nativeQuery = true)
    Page<Product> findErrorProductAll(Pageable pageable);
  ```
  ```java
  @GetMapping(value = "/products/errors", produces = MediaType.APPLICATION_JSON_VALUE)
    public String showProduct_errors(Model model, @RequestParam(name = "pageNo",defaultValue = "1")int pageNo, @RequestParam(name = "pageSize",defaultValue = "10")int pageSize) {

        int realPage = pageNo - 1;
        Page<Product> page = productService.findAllPageForError(realPage, pageSize);
        List<Product> products = page.getContent();
//        log.info("ìˆ˜ì • ì „ products : " + products);
        
        //ì œí’ˆì„ ëª¨ë‘ ì°¾ëŠ”ë‹¤.
//        List<Product> products = productService.findAll();
//        log.info("ìˆ˜ì • í›„ products : " + products);

        //ì—ëŸ¬ í…Œì´ë¸”ì˜ í˜ì´ì§€ë„¤ì´ì…˜ì„ ìœ„í•œ í˜ì´ì§€ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
//        Page<Error> page_error = errorService.findAllPage(pageNo, pageSize);
        
        //ì—ëŸ¬ ë””í…Œì¼ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ê¸°ìœ„í•œ ì„œë¹„ìŠ¤
        List<Error> errors = errorService.findAllErrors();

        log.info("ì—ëŸ¬ì •ë³´ : " + errors);

        model.addAttribute("errors", errors);
        model.addAttribute("products", products);
        model.addAttribute("currentPage", realPage);
        model.addAttribute("totalPages", page.getTotalPages());

        return "products/error_products";
    }
}
  ```


</details>
<details>
  <summary><b>Thyleaf-Bootstrap ëª¨ë‹¬ ê¸°ëŠ¥ ì‚¬ìš©ê°„ ë°ì´í„° ì „ì†¡</b></summary>
  <b>&gt;í˜„ìƒ</b><br>
  ìµœì´ˆ ê°€ì„¤ì„ ì„¸ìš¸ ë•Œì—ëŠ” 'ì–´ì°¨í”¼ Thyleafë¥¼ í†µí•´ì„œ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ì„ê±°ë‹ˆê¹Œ, í•œ htmlì— ìˆëŠ” formê³¼ modalì—ì„œ ë˜‘ê°™ì€ ë°ì´í„°ë¥¼ ì“¸ ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ?' ì‹¶ì—ˆìŒ.<br>
  ê·¸ëŸ¬ë‚˜ Controllerì—ì„œ htmlë¡œ ë³´ë‚¸ ì œí’ˆì˜ ë°ì´í„°ëŠ” Listí˜•ì‹ì˜ product'ë“¤' ì´ì—ˆê³ , ëª¨ë‹¬ì—ì„œ ë‚´ê°€ ì„ íƒí•œ íŠ¹ì • productë¥¼ ê°€ì ¸ì˜¤ê¸°ì—ëŠ” ë‚´ ê°€ì„¤ì´ ë§ì§€ ì•Šì•˜ìŒ.
  ê·¸ë˜ì„œ modalì—ì„œ ë°ì´í„°ë¥¼ ì œëŒ€ë¡œ ë°›ì•„ì˜¤ì§€ ëª»í•˜ëŠ” í˜„ìƒì´ ìˆì—ˆìŒ<br><br>

  ì•„ë˜ ì½”ë“œì—ì„œ 'ìˆ˜ì •'ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ê·¸ ì œí’ˆì˜ ìƒì„¸ì •ë³´ë¥¼ ë„ìš¸ ëª¨ë‹¬ì´ ë‚˜ì˜¤ëŠ”ë°, ê·¸ë•Œ ëª¨ë‹¬ì•ˆì— ë‚´ê°€ ì„ íƒí•œ ì œí’ˆì˜ ë°ì´í„°ê°€ ë“¤ì–´ìˆì–´ì•¼ í•˜ëŠ”ë°, ëª¨ë‹¬ì— ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ë³´ë‚´ì•¼ í•˜ëŠ”ê°€?
  ```java
    <tbody class="table-group-divider">
        <tr th:each="product : ${products}">
            <td th:text="${product.product_id}"></td>
            <td class="p-md-2 p-1">
                <div class="d-flex align-self-center justify-content-center">
                    <a th:text="${product.lot != null ? product.lot.lot_id : 'N/A'}" th:href="|@{/lots/{id}/detail(id=${product.lot.lot_id})}|" class="fw-bold  link-underline-opacity-0 link-light link-opacity-50-hover"></a>
                </div>
            </td>
            <td th:text="${product.volume + ' ml'}"></td>
            <td th:text= "${product.nib == null} ? '' : ${product.nib + 'mm'}"></td>
            <td th:text="${product.assembly_body}"></td>
            <td th:text="${product.assembly_cap}"></td>
            <td th:if="${product.acceptance == 'P'}" class="text-primary">ì í•©</td>
            <td th:if="${product.acceptance == 'F'}" class="text-danger">ë¶€ì í•©</td>
            <td th:text="${product.lot.start_time}"></td>
            <td th:text="${product.lot.end_time}"></td>
            <td>
                <button type="button" class="btn btn-primary"
                        data-bs-toggle="modal" data-bs-target="#qcModal">
                    ìˆ˜ì •
                </button>
            </td>
        </tr>
        </tbody>
  ```
  <b>&gt;í•´ê²° ë°©ë²•</b><br>
  1ì°¨ :  
  ```html 
  th:onclick="'openModal(\'' + ${product.product_id} + '\', \'' + ${product.lot.lot_id} + '\')'"> 
  ```
  ì´ë ‡ê²Œ ì½”ë“œë¥¼ ì‘ì„±í–ˆìœ¼ë‚˜, product ë°ì´í„°ê°€ ì•ˆë„˜ì–´ê°€ì„œ ì‹¤íŒ¨<br>

  2ì°¨ :
  ```html
  ëª¨ë‹¬ë¡œ ë³´ë‚´ëŠ” ë²„íŠ¼ì— ë„£ì€ ì½”ë“œ
  th:attr="data-target=${'#qcModal'+ products}â€

  ë°ì´í„°ë¥¼ ë°›ì„ ëª¨ë‹¬ì— ë„£ì€ ì½”ë“œ
  th:attr="id='qcModal'+${products}â€
  ```
  ì—­ì‹œ ëª¨ë‹¬ì—ì„œ Thyleafë¥¼ ì‚¬ìš©í•´ì„œ productë¥¼ ì°¾ìœ¼ë ¤ í–ˆìœ¼ë‚˜, ì¸ì‹ì„ ëª»í•´ì„œ ì‹¤íŒ¨<br>

  3ì°¨ :
  ```html
  <td>
	  <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#qcModal" th:attr="onclick='openModal(\'' + ${product.product_id} + '\', \'' + ${product.lot.lot_id} + '\', \'' + ${product.volume} + '\', \'' + ${product.getNib} + '\', \'' +           ${product.assembly_body} + '\', \'' + ${product.assembly_cap} + '\', \'' + ${product.acceptance} + '\', \'' + ${product.lot.getCreatedDate()} + '\', \'' + ${product.lot.getModifiedDate()} + '\')'">
		ì„ íƒ
	  </button>
  </td>
  ```
  ë°ì´í„°ë¥¼ í•˜ë‚˜ì”© í•˜ë‚˜ì”© ë³´ë‚´ëŠ” ë°©ì‹ìœ¼ë¡œ ëª¨ë“  ë°ì´í„°ë¥¼ ë³´ëƒˆìŒ. ë³´ë‚¸ ë°ì´í„°ëŠ” ìë°” ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ì„œ ë‹¤ì‹œ ëª¨ë‹¬ë¡œ ë³´ë‚´ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ í•´ê²°

  ```javascript
    function openModal(productId, lotId, inkCapacity, nibDepth, assemblyBody, assemblyCap, acceptance, createdDate, modifiedDate, comment) {
    // ì„ íƒí•œ ì œí’ˆì˜ ë°ì´í„°ë¥¼ ëª¨ë‹¬ì— ì „ë‹¬
    document.getElementById('productId').innerText = productId;
    document.getElementById('lot_id').innerText = lotId;
    document.getElementById('ink_capacity').innerText = inkCapacity;
    document.getElementById('nib_depth').innerText = nibDepth == "null" ? 'ë¯¸ê²°í•©' : nibDepth + "mm";
    document.getElementById('assembly_body').innerText = assemblyBody === "Y" ? 'ê²°í•©' : 'ë¯¸ê²°í•©';
    document.getElementById('assembly_cap').innerText = assemblyCap  === "Y" ? 'ê²°í•©' : 'ë¯¸ê²°í•©';
    
    if (acceptance === "P") {
    document.getElementById('acceptanceG').checked = true;
    document.getElementById('acceptanceB').checked = false;
    document.getElementById('comment').disabled = true;
    
    } else {
    document.getElementById('acceptanceG').checked = false;
    document.getElementById('acceptanceB').checked = true;
    document.getElementById('comment').disabled = false;
    }
    document.getElementById('start_date').innerText = createdDate;
    document.getElementById('end_date').innerText = modifiedDate;
    
    document.getElementById('comment').innerText = comment;
    if (comment === "null") {
        document.getElementById('comment').innerText ="";
    }
    $('#qcModal').modal('show');
    // productIdë¥¼ hidden í•„ë“œì— ì„¤ì •
        document.getElementById('product_id').value = productId;
    }
  ```

  ```html
	<div class="modal fade" id="qcModal" tabindex="-1" aria-labelledby="qcLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-secondary-subtle">
                    <h1 class="modal-title fs-2 fw-bold" id="qclLabel">í’ˆì§ˆê´€ë¦¬ ë°ì´í„° ë“±ë¡</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body px-5" style="background-color: rgba(41,17,8,0.22);">
                    <form class="row g-3" method="post" th:action="@{/products/commentSave}">
                        <div class="col-6">
                            <h5>ì œí’ˆ ë²ˆí˜¸: <span id="productId" class="fw-bold"></span></h5>
                        </div>
                        <div class="col-md-6">
                            <h5>Lot ë²ˆí˜¸: <span id="lot_id" class="fw-bold"></span></h5>
                        </div>
                        <hr>
                        <div class="col-md-6">
                            <h5>ì‰í¬ ìš©ëŸ‰: <span id="ink_capacity" class="fw-bold"></span> ml</h5>
                        </div>
                        <div class="col-md-6">
                            <h5>ë‹™ ê¹Šì´: <span id="nib_depth" class="fw-bold"></span></h5>
                        </div>
                        <hr>
                        <div class="col-md-6">
                            <h5 class="fs-6">ë°”ë”” ê²°í•© ì—¬ë¶€: <span id="assembly_body" class="fw-bold fs-6"></span></h5>
                        </div>
                        <div class="col-md-6">
                            <h5 class="fs-6">ëšœê»‘ ê²°í•© ì—¬ë¶€: <span id="assembly_cap" class="fw-bold fs-6"></span></h5>
                        </div>
                        <hr>
                        <div class="col-md-12">
                            <h5 class="mb-3">ì í•©/ë¶€ì í•© ì—¬ë¶€: </h5>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="acceptance" id="acceptanceG" value="P">
                                <label class="form-check-label fw-bold" for="acceptanceG">
                                    ì í•©
                                </label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" type="radio" name="acceptance" id="acceptanceB" value="F">
                                <label class="form-check-label fw-bold" for="acceptanceB">
                                    ë¶€ì í•©
                                </label>
                            </div>
                        </div>
                        <hr>
                        <div class="col-md-12">
                            <h5>ìƒì‚° ì‹œì‘: <span id="start_date" class="fw-bold"></span></h5>
                        </div>
                        <div class="col-md-12">
                            <h5>ìƒì‚° ì¢…ë£Œ: <span id="end_date" class="fw-bold"></span></h5>
                        </div>
                        <hr>
                        <!--                        commentì— ë“¤ì–´ê°ˆ ë‚´ìš© ì ëŠ” ë¶€ë¶„ -->
                        <div class="input-group col-md-12 input-group-lg">
                            <span class="input-group-text fw-bold">ì„¸ë¶€ ë¶€ì í•© <br>ì‚¬ìœ  </span>
                            <textarea id="comment" name="comment" class="form-control" rows="8" aria-label="ì„¸ë¶€ ë¶€ì í•© ì‚¬ìœ ">

                            </textarea>
                        </div>
                        <!--                        ë‚´ê°€ ì„ íƒí•œ ì œí’ˆì˜ commentë¥¼ ë°”ê¿”ì•¼í•˜ë‹ˆê¹Œ ê·¸ ì œí’ˆì„ íŠ¹ì •í•  ìˆ˜ ìˆëŠ” ì•„ì´ë””ë¥¼ formì— ë¶€ì—¬-->
                        <input type="hidden" id="product_id" name="product_id">
                    </form>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">ë‹«ê¸°</button>
                        <!--                        onclickì‹œ Conrollerì— ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ìë°” ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰-->
                        <button type="submit" class="btn btn-primary" onclick="saveComment()">ìˆ˜ì •</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
  ```
</details>
<br><br><br><br>

<span id="8"></span>
## ğŸ’¥8. ë¦¬íŒ©í† ë§ í•„ìš”
- **ì˜ˆì™¸ ì²˜ë¦¬**
  - Controllerì— ë§µí•‘ë˜ì§€ ì•Šì€ ì£¼ì†Œ ìš”ì²­ì´ ì˜¬ ê²½ìš° **Whitelabel Error Pageê°€ ì•„ë‹Œ ë§Œë“¤ì–´ë‘” 400ë²ˆ, 500ë²ˆ ì—ëŸ¬ í˜ì´ì§€ë¡œ ì´ë™**í•  ìˆ˜ ìˆë„ë¡ ì„¤ì • í•„ìš”
- **ìƒì‚° ì§€ì‹œì˜ ê·œê²© ì¶”ê°€**
  - í˜„ì¬ ê¸°ëŠ¥ì—ì„œëŠ” 1ê°œì˜ ê·œê²©ìœ¼ë¡œë§Œ ìƒì‚°ì„ í•˜ê²Œ ë˜ì–´ìˆì§€ë§Œ **ê·œê²©ì´ ì¶”ê°€ê°€ ë  ê²½ìš° ì—¬ëŸ¬ ê°œì˜ ê·œê²© ì¤‘ ì„ íƒ**í•˜ì—¬ ìƒì‚°ì„ í•  ìˆ˜ ìˆë„ë¡ ë¡œì§ ë³€ê²½ í•„ìš”
- **ìƒì‚° ì¤‘ë‹¨ ê¸°ëŠ¥ í™•ì¥**
  - ì—¬ëŸ¬ ê°œì˜ ìƒì‚° ì§€ì‹œë¥¼ ë‚´ë¦° í›„ ìƒì‚° ì¤‘ë‹¨ ê¸°ëŠ¥ì„ ëˆ„ë¥¼ ê²½ìš° ìƒì‚° ì§€ì‹œê°€ ëª¨ë‘ ì‚­ì œ ë˜ì–´ **ìƒì‚° ì¤‘ë‹¨ ë²„íŠ¼ í´ë¦­ ì‹œ Nê°œì˜ ìƒì‚° ì§€ì‹œ ì¤‘ 1ê°œë§Œ ì„ íƒí•˜ì—¬ í•´ë‹¹ ì§€ì‹œë¥¼ ì·¨ì†Œ**í•  ìˆ˜ ìˆë„ë¡ ë¡œì§ ë³€ê²½ í•„ìš”
  - **Në²ˆ ê³µì •ì—ì„œ ìƒì‚° ë„ì¤‘ ìƒì‚° ì¤‘ë‹¨ ë²„íŠ¼ í´ë¦­ ì‹œ ëª¨ë‘ ì‚­ì œ,** ì‹¤ì œ ì—…ë¬´ë¡œ ë³´ë©´ 3ê³µì •ì—ì„œ ì¤‘ë‹¨ ì‹œ 1~3ê³µì •ê¹Œì§€ ë§Œë“¤ì–´ì§„ ëª¨ë“  ì œí’ˆì„ ëª¨ë‘ ë²„ë¦¬ê³  1ê³µì •ë¶€í„° ìƒˆë¡œ ë§Œë“¤ê²Œ ë˜ëŠ” ì‹ì˜ ë¡œì§ì´ê¸° ë•Œë¬¸ì— ë°˜ë“œì‹œ ë¦¬íŒ©í† ë§ í•„ìš”
- **ëª¨ë‹ˆí„°ë§ ë¦¬íŒ©í† ë§**
  - ìƒì‚° ì§€ì‹œ í›„ ìƒì‚°ì´ ë˜ê³  ìˆëŠ” ì¤‘ì— ë‹¤ë¥¸ ì‚¬ìš©ìê°€ ëª¨ë‹ˆí„°ë§ í˜ì´ì§€ì— ì ‘ì†í•˜ë©´ ë°ì´í„°ë¥¼ ì •ìƒì ìœ¼ë¡œ ìˆ˜ì‹ í•  ìˆ˜ ìˆì§€ë§Œ, ìƒì‚° ì¤‘ì—ë§Œ ë°ì´í„°ë¥¼ ë³´ë‚´ëŠ” ê²ƒì´ê¸° ë•Œë¬¸ì— **ìƒì‚° ê³µì •ì´ ëŒì•„ê°€ì§€ ì•Šì„ ë•Œ ëª¨ë‹ˆí„°ë§ í˜ì´ì§€ ì ‘ì†í•  ê²½ìš° ê°€ì¥ ë§ˆì§€ë§‰ì˜ ë°ì´í„°ë¥¼ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ë°ì´í„°ë¥¼ ì „ì†¡**í•˜ëŠ” ë¡œì§ì´ í•„ìš”
<br><br><br><br>

<span id="9"></span>
## â­•9. ë¦¬íŒ©í† ë§ ì™„ë£Œ
- **í˜ì´ì§€ í•„í„°**
  - **ë¡œê·¸ì¸ì´ ë˜ì§€ ì•Šì€ ìƒíƒœ(ì„¸ì…˜ì— ë¡œê·¸ì¸ ì •ë³´ê°€ ì—†ëŠ” ìƒíƒœ)ì—ì„œ ë¡œê·¸ì¸ ì´ì™¸ì˜ í˜ì´ì§€ë¥¼ ìš”ì²­ì„ í•  ê²½ìš° ì ‘ê·¼ì´ ë¶ˆê°€ëŠ¥**í•˜ê³  ë¡œê·¸ì¸ì„ ìœ ë„í•˜ê¸° ìœ„í•´ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
<br><br><br><br>

<span id="10"></span>
## ğŸ™†â€â™‚ï¸10. ëŠë‚€ ì  ë° ì•„ì‰¬ìš´ ì 
ë¶€ì¡±í•œ ì§€ì‹ì´ì§€ë§Œ ì—´ì‹¬íˆ í”„ë¡œì íŠ¸ì— ì„í–ˆìŠµë‹ˆë‹¤. ê²°ê³¼ê°€ ë§ˆìŒì— 100% ì°¨ëŠ”ê±´ ì•„ë‹ˆì§€ë§Œ, ì œê°€ ë¬´ì–¸ê°€ë¥¼ ëë§ˆì¹¨í–ˆë‹¤ëŠ” ê²ƒì— ë¿Œë“¯í•¨ì„ ëŠë‚„ ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. <br>
ì´ë²ˆ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ì„œ ìŠ¤í”„ë§ì„ í™œìš©í•œ í”„ë¡œì íŠ¸ êµ¬í˜„ì— ë§ì€ ê²½í—˜ì„ í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤. ë°±ì—”ë“œ ê°œë°œì— ìˆì–´ì„œ ë‚´ê°€ ë¶€ì¡±í•œ ë¶€ë¶„ì€ ë¬´ì—ˆì´ì—ˆëŠ”ì§€, ì•ìœ¼ë¡œ ë” ì±„ì›Œë‚˜ê°ˆ ì§€ì‹ì€ ë¬´ì—ˆì´ ìˆì„ì§€ ê³ ë¯¼ë„ í•  ìˆ˜ ìˆëŠ” ê·€ì¤‘í•œ ê²½í—˜ì´ì—ˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤. <br>
ì´í›„ì—ëŠ” ë°±ì—”ë“œ ê°œë°œì— ìˆì–´ì„œ ì œê°€ ë¬´ì—‡ì„ ê³µë¶€í•´ì•¼ í• ì§€ ê³ ë¯¼í•˜ê³  ë¶€ì¡±í•œ ë¶€ë¶„ì„ ì±„ì›Œë‚˜ê°€ëŠ” ì„±ì¥í•˜ëŠ” ì‚¬ëŒì´ ë˜ë„ë¡ ë…¸ë ¥í•  ì˜ˆì •ì…ë‹ˆë‹¤. <br>
